# CoffeeScript utility functions for Another Package

class PackageUtils
  @formatTimestamp: (date = new Date()) ->
    date.toISOString().replace(/T/, ' ').replace(/\..+/, '')
  
  @createLogger: (packageName) ->
    info: (message) -> console.log "[#{packageName}] INFO: #{message}"
    warn: (message) -> console.warn "[#{packageName}] WARN: #{message}"
    error: (message) -> console.error "[#{packageName}] ERROR: #{message}"
  
  @validateArray: (arr) ->
    throw new Error("Input must be an array") unless Array.isArray(arr)
    true
  
  @deepClone: (obj) ->
    return obj unless obj and typeof obj is 'object'
    if Array.isArray(obj)
      obj.map (item) => @deepClone(item)
    else
      result = {}
      for key, value of obj
        result[key] = @deepClone(value)
      result

module.exports = PackageUtils